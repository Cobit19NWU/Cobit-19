@page "/ObjectiveAudit"
@using Cobit_19.Business.ObjectiveAudits
@using Cobit_19.Shared.Dtos

<h3>Audit</h3>

@code {
    string jsonTestTemplate = @"
    {
      ""objectiveName"": ""name"",
      ""objectiveDescription"": ""description"",
      ""objectivePurpose"": ""purpose"",
      ""maturityLevel"": 0,
      ""maturityLevel0PercFinal"": 0,
      ""maturityLevel1PercFinal"": 0,
      ""maturityLevel2PercFinal"": 0,
      ""maturityLevel3PercFinal"": 0,
      ""maturityLevel4PercFinal"": 0,
      ""maturityLevel5PercFinal"": 0,
      ""components"": [
        {
          ""componentName"": ""Processes"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""subComponents"": [
            {
              ""subComponentName"": ""Sub process name"",
              ""subComponentDescription"": ""Description"",
              ""componentQuestions"": [
                {
                  ""questionType"": ""Maturity Level 0 .. 5 OR Related Guidance OR Information flow"",
                  ""questionText"": ""string"",
                  ""questionAnswer"": 0,
                  ""questionScore"": 0,
                  ""questionComment"": ""comment""
                }
              ]
            }
          ]
        },
        {
          ""componentName"": ""Organizational Structures"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""componentQuestions"": [
            {
              ""questionType"": ""Component question"",
              ""questionText"": ""string"",
              ""questionAnswer"": 0,
              ""questionScore"": 0,
              ""questionComment"": ""comment""
            }
          ]
        },
        {
          ""componentName"": ""Peoples, Skills and Competencies"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""componentQuestions"": [
            {
              ""questionType"": ""Component question"",
              ""questionText"": ""string"",
              ""questionAnswer"": 0,
              ""questionScore"": 0,
              ""questionComment"": ""comment""
            }
          ]
        },
        {
          ""componentName"": ""Principles Policies and Procedures"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""componentQuestions"": [
            {
              ""questionType"": ""Component question"",
              ""questionText"": ""string"",
              ""questionAnswer"": 0,
              ""questionScore"": 0,
              ""questionComment"": ""comment""
            }
          ]
        },
        {
          ""componentName"": ""Culture, Ethics and Behavior"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""componentQuestions"": [
            {
              ""questionType"": ""Component question"",
              ""questionText"": ""string"",
              ""questionAnswer"": 0,
              ""questionScore"": 0,
              ""questionComment"": ""comment""
            }
          ]
        },
        {
          ""componentName"": ""Services, Infrastructure and Applications"",
          ""componentDescription"": ""Component description"",
          ""componentPercFinal"": 0,
          ""componentQuestions"": [
            {
              ""questionType"": ""Component question"",
              ""questionText"": ""string"",
              ""questionAnswer"": 0,
              ""questionScore"": 0,
              ""questionComment"": ""comment""
            }
          ]
        }
      ]
    }";

    FullObjectiveAuditDto audit;

    protected override void OnInitialized()
    {
        audit = AuditJSONParsingService.parseAuditTemplate(jsonTestTemplate);
    }
}

<div>
    <h1>
        @audit.components[0].componentQuestions[0].questionType
    </h1>
</div>
